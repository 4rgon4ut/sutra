# Session Offload: 2025-12-02 14:30

## Preferences
- Kernel-style commits with scope prefixes (core:, cognitive:, tests:, docs:, refactor:, fix:, feat:)
- Never commit .journal.md to repo
- Vendor-neutral naming: "Context Engineering" not provider-specific terms

## Good Patterns
- Dummy MCP harness in tests when deps unavailable (DummyMCP class pattern in test_thinking_models_tools_render)
- Registry pattern for extensibility: {NAME}_REGISTRY dict + get_{type}_template() getter
- Protocol shell templates: escape literal braces `{}` → `{{}}` before .format()

## Bad Patterns
- Unescaped braces in protocol templates cause ValueError with .format()
- Shipping new tools without corresponding test coverage

## Architecture Edges
- server.py → imports cognitive.register_thinking_models() → registers 4 thinking model tools
- core/__init__.py → exports atoms, molecules, cells, programs → used by server.py
- Abstraction layers: atoms → molecules → cells → programs → cognitive (dependency order)
- test_server.py → tests all MCP tools, registries, and error cases

## Resolved Issues
- Fixed template formatting bugs in thinking_models.py:138-160 (backtracking), 189-210 (symbolic_abstract)
- Added missing tests: understand_question, verify_logic, windowed/episodic cell protocols
- Test suite: 12/12 passing with comprehensive coverage
